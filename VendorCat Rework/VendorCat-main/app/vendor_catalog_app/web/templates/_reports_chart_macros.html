{% macro render_chart(chart_kind, chart_rows, chart_line_path, chart_line_points) -%}
  {% if chart_kind == "line" %}
  <svg class="line-chart" viewBox="0 0 100 100" preserveAspectRatio="none" aria-label="line chart">
    <line class="axis-line" x1="5" y1="90" x2="95" y2="90"></line>
    <line class="axis-line" x1="5" y1="10" x2="5" y2="90"></line>
    <polyline class="trend-line" points="{{ chart_line_path }}"></polyline>
    {% for point in chart_line_points %}
    <circle class="trend-point" cx="{{ point.x }}" cy="{{ point.y }}" r="1.4">
      <title>{{ point.label }}: {{ point.value_display }}</title>
    </circle>
    {% endfor %}
  </svg>
  {% else %}
  <div class="graph-block">
    {% for row in chart_rows %}
    <div class="bar-row">
      <div class="bar-label">{{ row.label }}</div>
      <div class="bar-track"><div class="bar-fill" style="width: {{ row.width_pct }}%;"></div></div>
      <div class="bar-value">{{ row.value_display }} <small class="muted">({{ row.share_pct }}%)</small></div>
    </div>
    {% endfor %}
  </div>
  {% endif %}
{%- endmacro %}

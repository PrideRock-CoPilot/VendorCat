{% extends "base.html" %}
{% block content %}
<h1>Demo Outcomes</h1>

<section class="card">
  <table>
    <thead>
      <tr><th>Demo</th><th>Vendor</th><th>Offering</th><th>Date</th><th>Score</th><th>Outcome</th><th>Reason</th><th>Notes</th></tr>
    </thead>
    <tbody>
      {% for row in rows %}
      <tr>
        <td>{{ row.demo_id }}</td>
        <td>{{ row.vendor_id }}</td>
        <td>{{ row.offering_id }}</td>
        <td>{{ row.demo_date }}</td>
        <td>{{ row.overall_score }}</td>
        <td>{{ row.selection_outcome }}</td>
        <td>{{ row.non_selection_reason_code }}</td>
        <td>{{ row.notes }}</td>
      </tr>
      {% else %}
      <tr><td colspan="8">No demo outcomes</td></tr>
      {% endfor %}
    </tbody>
  </table>
</section>

{% if can_edit %}
<section class="card">
  <h2>Add Demo Outcome</h2>
  <form method="post" action="/demos" class="grid grid-3">
    <label>Vendor ID<input type="text" name="vendor_id" required></label>
    <label>Offering ID<input type="text" name="offering_id"></label>
    <label>Demo Date<input type="date" name="demo_date" value="{{ today }}"></label>
    <label>Overall Score<input type="number" step="0.1" min="0" max="10" name="overall_score" value="7.0"></label>
    <label>Selection Outcome
      <select name="selection_outcome">
        <option value="selected">selected</option>
        <option value="not_selected">not_selected</option>
        <option value="deferred">deferred</option>
      </select>
    </label>
    <label>Non-selection Reason<input type="text" name="non_selection_reason_code"></label>
    <label class="full">Notes<textarea name="notes" rows="2"></textarea></label>
    <div><button type="submit">Save Demo Outcome</button></div>
  </form>
</section>
{% endif %}
{% endblock %}

